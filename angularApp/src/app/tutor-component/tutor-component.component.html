<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->

<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<div class="student">
  <div class="main-container">
    <table class="tutor-general">
      <tr class="backgroundDarkBlue">
        <td class="widthTD1 navigationTitle"></td>
        <td class="tutorTitle underline">Python Tutor</td>
        <td class="user-info-container" rowspan="2">
          <div class="user-name">
            <h1 [(ngModel)]="currentUsername"></h1>
            <i class="fas fa-user user-icon" style="margin-right: 5px"></i
            >{{ currentUsername }}
          </div>
          <div class="difficulty-dropdown">
            <select
              ng-model="selectedExperienceLevel"
              [(ngModel)]="selectedExperienceLevel"
              (ngModelChange)="onDifficultyChange()"
              ng-change="onDifficultyChangeTaskView()"
            >
              <option value="beginner">Beginner</option>
              <option value="advanced">Advanced</option>
              <option value="expert">Expert</option>
            </select>
            <!--<p-dropdown
                [options]="experienceLevel" 
                [(ngModel)]="selectedExperienceLevel"
                optionLabel="name"
                (onChange)="onDifficultyChange()"/>-->
          </div>
          <div>
            <button class="logout-button" (click)="logout()">
              Logout <i class="fas fa-sign-out-alt"></i>
            </button>
          </div>
        </td>
      </tr>
      <tr class="backgroundDarkBlue">
        <td class="widthTD1 navigationTitle underlineRight"></td>
        <td>
          <div class="progress-container">
            <div id="progress-bar" class="progress-bar"></div>

            <!--<div id="progress-text" class="progress-text">0% of the tasks completed</div>-->
            <div class="borderProgressBar"></div>
          </div>
        </td>
      </tr>
      <tr>
        <td class="sidebar-general underlineRight" rowspan="3">
          <div class="test123">
            <!-- Task Group 1-->
            <div class="taskGroup-container">
              <div
                class="menu-item"
                (click)="showTasks[0] = !showTasks[0]"
                [ngStyle]="{
                  'background-color':
                    showTasks[0] == true ? '#2596be' : '#1B5F75'
                }"
              >
                Variables
              </div>
              <div *ngIf="showTasks[0]">
                <ng-container *ngFor="let task of tasks">
                  <div
                    *ngIf="task.topic === 'Variables'"
                    (click)="openTask(task)"
                  >
                    <div class="task-item">
                      <p>{{ task.title }}</p>
                    </div>
                  </div>
                </ng-container>
              </div>
            </div>
            <!-- Task Group 2-->
            <div class="taskGroup-container">
              <div
                class="menu-item"
                (click)="showTasks[1] = !showTasks[1]"
                [ngStyle]="{
                  'background-color':
                    showTasks[1] == true ? '#2596be' : '#1B5F75'
                }"
              >
                Loops
              </div>
              <div *ngIf="showTasks[1]">
                <ng-container *ngFor="let task of tasks">
                  <div *ngIf="task.topic === 'Loops'" (click)="openTask(task)">
                    <div class="task-item">
                      <p>{{ task.title }}</p>
                    </div>
                  </div>
                </ng-container>
              </div>
            </div>
            <!-- Task group 3-->
            <div class="taskGroup-container">
              <div
                class="menu-item"
                (click)="showTasks[2] = !showTasks[2]"
                [ngStyle]="{
                  'background-color':
                    showTasks[2] == true ? '#2596be' : '#1B5F75'
                }"
              >
                Functions
              </div>
              <div *ngIf="showTasks[2]">
                <ng-container *ngFor="let task of tasks">
                  <div
                    *ngIf="task.topic === 'Functions'"
                    (click)="openTask(task)"
                  >
                    <div class="task-item">
                      <p>{{ task.title }}</p>
                    </div>
                  </div>
                </ng-container>
              </div>
            </div>
          </div>
        </td>
      </tr>
      <tr class="task-container">
        <router-outlet></router-outlet>
      </tr>
      <tr class="task-container-nav">
        <td colspan="2">
          <div>
            <button
              class="previousTask"
              ng-click="prevTask()"
              ng-disabled="isPrevDisabled()"
            >
              <i class="fas fa-arrow-left"></i> Previous
            </button>
            <button
              class="nextTask"
              ng-click="nextTask()"
              ng-disabled="isNextDisabled()"
            >
              Next <i class="fas fa-arrow-right"></i>
            </button>
          </div>
        </td>
      </tr>
    </table>
  </div>
</div>
