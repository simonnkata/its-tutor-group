<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->

<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<div class="student">
  <div class="main-container">
    <table class="tutor-general">
      <tr class="backgroundDarkBlue">
        <td class="widthTD1 navigationTitle"></td>
        <td class="tutorTitle underline">Python Tutor</td>
        <td class="user-info-container" rowspan="2">
          <div class="user-name">
            <h1 [(ngModel)]="currentUsername"></h1>
            <i class="fas fa-user user-icon" style="margin-right: 5px"></i
            >{{ currentUsername }}
          </div>
          <div class="difficulty-dropdown">
            <select
              ng-model="selectedExperienceLevel"
              [(ngModel)]="selectedExperienceLevel"
              (ngModelChange)="onDifficultyChange()"
              ng-change="onDifficultyChangeTaskView()"
            >
              <option value="beginner">Beginner</option>
              <option value="advanced">Advanced</option>
              <option value="expert">Expert</option>
            </select>
            <!--<p-dropdown
                [options]="experienceLevel" 
                [(ngModel)]="selectedExperienceLevel"
                optionLabel="name"
                (onChange)="onDifficultyChange()"/>-->
          </div>
          <div>
            <button class="logout-button" (click)="logout()">
              Logout <i class="fas fa-sign-out-alt"></i>
            </button>
          </div>
        </td>
      </tr>
      <tr class="backgroundDarkBlue">
        <td class="widthTD1 navigationTitle underlineRight"></td>
        <td>
          <div class="progress-container">
            <div id="progress-bar" class="progress-bar"></div>

            <!--<div id="progress-text" class="progress-text">0% of the tasks completed</div>-->
            <div class="borderProgressBar"></div>
          </div>
        </td>
      </tr>
      <tr>
        <td class="sidebar-general underlineRight" rowspan="3">
          <div class="test123">
            <!-- Task Group 1-->
            <div
              class="taskGroup-container"
              ng-class="{
                'current-group': isTaskInGroup('TaskGroup1'),
                'non-selected-group': !isGroupSelected('TaskGroup1')
              }"
            >
              <div
                class="menu-item"
                ng-click="toggleGroup('TaskGroup1')"
                ng-class="{ 'current-group': isTaskInGroup('TaskGroup1') }"
              >
                Variables
                <span class="arrow">&#9660;</span>
              </div>
              <div
                class="submenu"
                ng-class="{ show: isGroupVisible('TaskGroup1') }"
              >
                <ng-container *ngFor="let task of tasks">
                  <div
                    *ngIf="task.topic === 'Variables'"
                    (click)="openTask(task)"
                  >
                    <div class="task-item">
                      <!-- Display task details here -->
                      <p>{{ task.title }}</p>
                    </div>
                  </div>
                </ng-container>
              </div>
            </div>
            <!-- Task Group 2-->
            <div
              class="taskGroup-container"
              ng-class="{
                'current-group': isTaskInGroup('TaskGroup2'),
                'non-selected-group': !isGroupSelected('TaskGroup2')
              }"
            >
              <div
                class="menu-item"
                ng-click="toggleGroup('TaskGroup2')"
                ng-class="{ 'current-group': isTaskInGroup('TaskGroup2') }"
              >
                Loops
                <span
                  class="arrow"
                  ng-class="{ down: isGroupVisible('TaskGroup2') }"
                  >&#9660;</span
                >
              </div>
              <div
                class="submenu"
                ng-class="{ show: isGroupVisible('TaskGroup2') }"
              >
                <ng-container *ngFor="let task of tasks">
                  <div *ngIf="task.topic === 'Loops'" (click)="openTask(task)">
                    <div class="task-item">
                      <!-- Display task details here -->
                      <p>{{ task.title }}</p>
                    </div>
                  </div>
                </ng-container>
              </div>
            </div>
            <!-- Task group 3-->
            <div
              class="taskGroup-container"
              ng-class="{
                'current-group': isTaskInGroup('TaskGroup3'),
                'non-selected-group': !isGroupSelected('TaskGroup3')
              }"
            >
              <div
                class="menu-item"
                ng-click="toggleGroup('TaskGroup3')"
                ng-class="{ 'current-group': isTaskInGroup('TaskGroup3') }"
              >
                Functions
                <span
                  class="arrow"
                  ng-class="{ down: isGroupVisible('TaskGroup3') }"
                  >&#9660;</span
                >
              </div>
              <div
                class="submenu"
                ng-class="{ show: isGroupVisible('TaskGroup3') }"
              >
                <ng-container *ngFor="let task of tasks">
                  <div
                    *ngIf="task.topic === 'Functions'"
                    (click)="openTask(task)"
                  >
                    <div class="task-item">
                      <!-- Display task details here -->
                      <p>{{ task.title }}</p>
                    </div>
                  </div>
                </ng-container>
              </div>
            </div>
          </div>
        </td>
      </tr>
      <tr class="task-container">
        <router-outlet></router-outlet>
      </tr>
      <tr class="task-container-nav">
        <td colspan="2">
          <div>
            <button
              class="previousTask"
              ng-click="prevTask()"
              ng-disabled="isPrevDisabled()"
            >
              <i class="fas fa-arrow-left"></i> Previous
            </button>
            <button
              class="nextTask"
              ng-click="nextTask()"
              ng-disabled="isNextDisabled()"
            >
              Next <i class="fas fa-arrow-right"></i>
            </button>
          </div>
        </td>
      </tr>
    </table>
  </div>
</div>
