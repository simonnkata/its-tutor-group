<div class="flowchart-task">
  <section class="content">
    <!-- Task Name Section -->
    <div class="task-name">
      <h2 *ngIf="!loading">Task Name: {{ taskName }}</h2>
    </div>

    <!-- Task Details Section -->
    <div class="task">
      <h2>Task Details</h2>
      <ul>
        <li>Type: {{ type }}</li>
        <li>Category: {{ category }}</li>
        <li>Skill Level: {{ skillLevel }}</li>
      </ul>
      <button class="create-task-btn" (click)="create()">Create Task</button>
    </div>

    <!-- Task Description Section -->
    <div class="task-description">
      <h2>Task Description</h2>
      <textarea
        id="task-description"
        class="flexible-textarea"
        placeholder="Visualize the code below by creating a flowchart."
      ></textarea>

      <!-- Part 2: Code als Aufgabe -->
      <div class="code-section">
        <h3>Code Task</h3>
        <textarea
          id="code-task-editor"
          class="code-editor"
          placeholder="Write the code task description here..."
        ></textarea>
      </div>
    </div>

    <!-- Flowchart Section -->
    <div class="flowchart-section">
      <h2>Flowchart Task</h2>
      <div
        class="flowchart-diagram"
        id="myDiagramDiv"
        ng-class="{
          'correct-answer-flow': isCorrectAnswer,
          'incorrect-answer-flow': !isCorrectAnswer && isAnswered,
          'incomplete-answer-flow': isAnswerIncomplete && isAnswered
        }"
        style="
          height: 350px;
          border-radius: 4px;
          background-color: #1e1e1e;
          box-sizing: border-box;
          margin-bottom: 20px;
        "
      ></div>
      <div class="flowchart-options">
        <select ng-model="selectedLine" style="width: 150px; height: 40px">
          <option value="" disabled selected>Select a line:</option>
        </select>
        <select ng-model="selectedShape" style="width: 150px; height: 40px">
          <option value="" disabled selected>Select a shape:</option>
          <option value="Ellipse">Terminator</option>
          <option value="Rectangle">Process</option>
          <option value="Diamond">Condition</option>
        </select>
        <button ng-click="addNode()" class="check-button">Add Node</button>
        <button ng-click="refresh()" class="check-button">Refresh</button>
      </div>
    </div>

    <!-- Task Solution Section -->
    <div class="solution-section">
      <h2>Task Solution</h2>
      <textarea
        id="solution-editor"
        class="solution-editor"
        placeholder="Write the solution here..."
      ></textarea>
    </div>

    <!-- Hints Section -->
    <div class="hints-section">
      <h2>Hints</h2>
      <div id="hints-container">
        <textarea class="hint" placeholder="Hint 1"></textarea>
        <textarea class="hint" placeholder="Hint 2"></textarea>
        <textarea class="hint" placeholder="Hint 3"></textarea>
        <textarea class="hint" placeholder="Hint 4"></textarea>
        <textarea class="hint" placeholder="Hint 5"></textarea>
      </div>
    </div>

    <!-- Feedback Section -->
    <div class="feedback-section">
      <h2>Feedback</h2>
      <textarea
        id="feedback-editor"
        class="feedback-editor"
        placeholder="Write feedback here..."
      ></textarea>
    </div>

    <!-- Save Task -->
    <div class="save-task">
      <button class="run-btn" (click)="save()">Save Task</button>
    </div>
  </section>
</div>
